name: Unified Workflow

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Code
        uses: actions/checkout@v2

      - name: Prepare Hugo Site and Update Theme
        run: |
          echo "Preparing Hugo Site..."
          # Other commands here
          cat <<EOF
          Your content here
          EOF

      - name: Fetch NextDNS Logs
        run: |
          echo "Fetching logs..."
          if [ ! -f "$GITHUB_OUTPUT" ]; then
            echo 'GITHUB_OUTPUT not found.'
            exit 1
          fi

      - name: Commit Changes
        run: |
          git config --local user.email "you@example.com"
          git config --local user.name "Your Name"
          git add content/ data/ public/ config.toml
          git commit -m "Your commit message"

      - name: Check Datadog Output
        run: |
          echo "Checking Datadog output..."
          # Robust check here
